(this.webpackJsonpfoody=this.webpackJsonpfoody||[]).push([[0],{35:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(20),i=n.n(s),c=n(3),o=n(4),l=n(7),u=n(6),p=n(19),d=n(5),h=n(9),j=n(23),m=n(8),b={amountForCycle:1,amountForButton:1,ingsArr:[{id:0,value:""}],allRecipes:[],selectedRecipes:[]},f={isMenuOpened:!1},O={modalWrapperClassList:"modal-wrapper position-absolute",modalData:{label:"",imagePath:"",ingsLines:[],calories:""}},v=Object(j.a)({ings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ING":return Object(m.a)(Object(m.a)({},e),{},{amountForCycle:e.amountForCycle+1,amountForButton:e.amountForButton+1});case"REM_ING":return Object(m.a)(Object(m.a)({},e),{},{amountForButton:e.amountForButton-1});case"INGS_ARRAY_UPDATED":return Object(m.a)(Object(m.a)({},e),{},{ingsArr:t.ingsArr});case"RECIPES_SELECTED":return console.log(t.selectedRecipes),Object(m.a)(Object(m.a)({},e),{},{selectedRecipes:t.selectedRecipes});case"RECIPES_SET":return console.log(t.allRecipes),Object(m.a)(Object(m.a)({},e),{},{allRecipes:t.allRecipes});default:return e}},menu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU_OPENED":return{isMenuOpened:!e.isMenuOpened};default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MODAL_OPENED":return Object(m.a)(Object(m.a)({},e),{},{modalWrapperClassList:"modal-wrapper modal-wrapper_active position-absolute",modalData:t.modalData});case"MODAL_CLOSED":return Object(m.a)(Object(m.a)({},e),{},{modalWrapperClassList:"modal-wrapper position-absolute",modalData:{label:"",imagePath:"",ingsLines:[],calories:""}});default:return e}}}),g=Object(j.b)(v),_=function(e){return{type:"INGS_ARRAY_UPDATED",ingsArr:e}},x=function(e){return{type:"RECIPES_SET",allRecipes:e}},y=(n(35),n(1)),k=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.isMenuOpened?"hamburger hamburger_active":"hamburger";return Object(y.jsxs)("div",{onClick:function(){g.dispatch({type:"MENU_OPENED"})},className:e,children:[Object(y.jsx)("span",{className:"hamburger__line"}),Object(y.jsx)("span",{className:"hamburger__line"}),Object(y.jsx)("span",{className:"hamburger__line"})]})}}]),n}(a.Component),N=Object(h.b)((function(e){return{isMenuOpened:e.menu.isMenuOpened}}))(k),R=(n(37),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(y.jsx)("div",{className:"recipes-link-wrapper",children:Object(y.jsxs)("a",{className:"recipes-link",href:"#",children:["\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0435\u0446\u0435\u043f\u0442\u043e\u0432 (",this.props.recipesQuantity,")"]})})}}]),n}(a.Component)),C=Object(h.b)((function(e){return{recipesQuantity:e.ings.selectedRecipes.length}}))(R),D=(n(38),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(y.jsxs)("header",{className:"app-header",children:[Object(y.jsx)(N,{}),Object(y.jsx)(C,{})]})}}]),n}(a.Component)),L=(n(39),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.isMenuOpened?"menu menu_opened position-absolute":"menu position-absolute";return Object(y.jsx)("nav",{className:e,children:Object(y.jsxs)("ul",{className:"menu__list",children:[Object(y.jsx)("li",{className:"menu__list-item",children:Object(y.jsx)(p.b,{className:"menu__list-link",to:"/",children:"\u0418\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"})}),Object(y.jsx)("li",{className:"menu__list-item",children:Object(y.jsx)(p.b,{className:"menu__list-link",to:"/catalog",children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u0440\u0435\u0446\u0435\u043f\u0442\u043e\u0432"})}),Object(y.jsx)("li",{className:"menu__list-item",children:Object(y.jsx)("a",{className:"menu__list-link",href:"#",children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0440\u0435\u0446\u0435\u043f\u0442\u044b"})}),Object(y.jsx)("li",{className:"menu__list-item",children:Object(y.jsx)("a",{className:"menu__list-link",href:"#",children:"GitHub"})})]})})}}]),n}(a.Component)),E=Object(h.b)((function(e){return{isMenuOpened:e.menu.isMenuOpened}}))(L),w=n(12),P=n.n(w),I=n(15),A=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,[{key:"getRecipes",value:function(){var e=Object(I.a)(P.a.mark((function e(t){var n,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{headers:{Accept:"application/json",mode:"no-cors"}});case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Server Error");case 5:return e.next=7,n.json();case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"generateRandStr",value:function(){for(var e="",t="0123456789qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM",n=t.length-1,a=0;a<5;++a){var r=Math.floor(Math.random()*n);e+=t.substring(r,r+1)}return e}}]),e}(),M=n(18),S=(n(43),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.label,a=t.image,r=t.ingsLines,s=t.calories;return Object(y.jsxs)("div",{className:"recipe",children:[Object(y.jsx)("div",{className:"recipe__img-wrapper",children:Object(y.jsx)("img",{className:"recipe__img",src:a,alt:n})}),Object(y.jsx)("h2",{className:"recipe__title",children:n}),Object(y.jsx)("a",(e={href:"#",onClick:function(e){e.preventDefault(),g.dispatch({type:"MODAL_OPENED",modalData:{label:n,image:a,ingsLines:r,calories:s}})},className:"recipe__link"},Object(M.a)(e,"href","#"),Object(M.a)(e,"children","\u041a\u0430\u043a \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"),e))]})}}]),n}(a.Component)),F=(n(44),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"renderIngsLines",value:function(){return this.props.modalData.ingsLines.map((function(e,t){return Object(y.jsx)("div",{className:"modal__line",children:e},t)}))}},{key:"render",value:function(){var e=this.props.modalWrapperClassList,t=this.props.modalData,n=t.image,a=t.label,r=(t.ingsLines,t.calories,"modal position-fixed");return"modal-wrapper modal-wrapper_active position-absolute"===e&&(r="modal modal_active position-absolute"),Object(y.jsxs)("div",{className:e,children:[Object(y.jsx)("div",{onClick:function(){g.dispatch({type:"MODAL_CLOSED"})},className:"modal-closer position-absolute",children:"\xd7"}),Object(y.jsxs)("div",{className:r,children:[Object(y.jsx)("h2",{className:"modal__title",children:a}),Object(y.jsx)("div",{className:"modal__img-wrapper",children:Object(y.jsx)("img",{className:"modal__img",src:n,alt:a})}),Object(y.jsx)("h3",{className:"modal__lines-title",children:"Ingredients:"}),Object(y.jsx)("p",{className:"modal__lines",children:this.renderIngsLines()})]})]})}}]),n}(a.Component)),U=(n(45),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).componentDidMount=Object(I.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new A).getRecipes("https://api.edamam.com/api/recipes/v2?type=public&q=chicken&app_id=5439c2fe&app_key=335b3847bf78d129e80af9d756aedfaf").then((function(t){e.setState({recipesData:t.hits,nextPageUrl:t._links.next.href})}));case 2:case"end":return t.stop()}}),t)}))),e.loadNextPage=function(){var t=Object(I.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,(new A).getRecipes(e.state.nextPageUrl).then((function(t){console.log(t),e.setState({recipesData:t.hits,nextPageUrl:t._links.next.href})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadPrevPage=function(){var t=Object(I.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,(new A).getRecipes(e.state.prevPageUrl).then((function(t){console.log(t),e.setState({recipesData:t.hits,nextPageUrl:t._links.next.href})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={recipesData:[],prevPageUrl:"https://api.edamam.com/api/recipes/v2?type=public&q=chicken&app_id=5439c2fe&app_key=335b3847bf78d129e80af9d756aedfaf",nextPageUrl:""},e}return Object(o.a)(n,[{key:"renderRecipes",value:function(){return this.state.recipesData.map((function(e,t){return Object(y.jsx)(S,{calories:e.recipe.calories,ingsLines:e.recipe.ingredientLines,image:e.recipe.image,label:e.recipe.label},t)}))}},{key:"renderPaginationLink",value:function(e,t,n,a){return e?Object(y.jsx)("a",{onClick:n,href:"#",className:a,children:t}):" "}},{key:"render",value:function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"recipes",children:[this.renderRecipes(),Object(y.jsx)(F,{modalData:this.props.modalData,modalWrapperClassList:this.props.modalWrapperClassList})]}),this.renderPaginationLink(this.state.prevPageUrl,"<",this.loadPrevPage,"link link_prev"),this.renderPaginationLink(this.state.nextPageUrl,">",this.loadNextPage,"link link_next")]})}}]),n}(a.Component)),B=Object(h.b)((function(e){return{modalWrapperClassList:e.modal.modalWrapperClassList,modalData:e.modal.modalData}}))(U),W=n(22),G=(n(46),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).editIng=function(t){var n=t.target.value,a=e.props,r=a.ingsArr,s=a.id,i=a.allRecipes,c=a.selectedRecipes,o=[];r.filter((function(e){return e.id===s}))[0].value=n,1===r.length?e.parseRecipesList(i,n,o):e.parseRecipesList(c,n,o),g.dispatch(_(r))},e.state={showInput:!0,inputClassList:"search-container__item input"},e.onInputRemoved=e.onInputRemoved.bind(Object(W.a)(e)),e}return Object(o.a)(n,[{key:"parseRecipesList",value:function(e,t,n){e.forEach((function(e){var a="";e.recipe.ingredientLines.forEach((function(e){a+=e})),a.toLocaleLowerCase().includes(t)&&n.push(e)})),g.dispatch(function(e){return{type:"RECIPES_SELECTED",selectedRecipes:e}}(n))}},{key:"onInputRemoved",value:function(){var e=this;this.setState({inputClassList:"search-container__item input input_removed"});var t=this.props,n=t.ingsArr,a=t.id,r=t.allRecipes,s=t.selectedRecipes,i=n.filter((function(e){return e.id===a}))[0],c=[];n.splice(n.indexOf(i),1),g.dispatch(_(n)),n.forEach((function(t,n){n<1?e.parseRecipesList(r,t.value,c):e.parseRecipesList(s,t.value,c)})),setTimeout((function(){e.setState({showInput:!1})}),990),g.dispatch({type:"REM_ING"})}},{key:"render",value:function(){var e=this.onInputRemoved,t=this.editIng;return this.state.showInput?this.props.amount>1?Object(y.jsxs)("div",{className:"input-wrapper",id:this.props.id,children:[Object(y.jsx)("input",{onInput:t,className:this.state.inputClassList,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430..."}),Object(y.jsx)("button",{onClick:e,className:"search-container__removing",children:"-"})]}):Object(y.jsx)("div",{className:"input-wrapper",id:this.props.id,children:Object(y.jsx)("input",{onInput:t,className:this.state.inputClassList,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430..."})}):null}}]),n}(a.Component)),T=Object(h.b)((function(e){return{ingsArr:e.ings.ingsArr,allRecipes:e.ings.allRecipes,selectedRecipes:e.ings.selectedRecipes}}))(G),q=(n(47),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=Object(I.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new A).getRecipes("https://api.edamam.com/api/recipes/v2?type=public&q=chicken&app_id=5439c2fe&app_key=335b3847bf78d129e80af9d756aedfaf").then((function(e){console.log(e),g.dispatch(x(e.hits))}));case 2:case"end":return e.stop()}}),e)}))),e}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.props.ingsArr;e.filter((function(e){return""!==e.value})),e.length<this.props.amountForButton&&e.push({id:this.props.amountForCycle-1,value:""}),g.dispatch(_(e))}},{key:"renderIngs",value:function(){for(var e=[],t=this.props,n=t.amountForCycle,a=t.amountForButton,r=0;r<n;r++)e.push(Object(y.jsx)(T,{id:r,amount:a},r));return e}},{key:"render",value:function(){return Object(y.jsxs)("div",{className:"search-container",children:[this.renderIngs(),Object(y.jsx)("button",{onClick:function(){return g.dispatch({type:"ADD_ING"})},className:"search-container__adding",children:"+"})]})}}]),n}(a.Component)),J=Object(h.b)((function(e){return{amountForCycle:e.ings.amountForCycle,amountForButton:e.ings.amountForButton,ingsArr:e.ings.ingsArr}}))(q),Q=(n(48),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(y.jsx)(h.a,{store:g,children:Object(y.jsx)("div",{className:"app",children:Object(y.jsxs)(p.a,{children:[Object(y.jsx)(E,{}),Object(y.jsx)(D,{}),Object(y.jsx)(d.a,{exact:!0,path:"/",component:J}),Object(y.jsx)(d.a,{path:"/catalog",component:B})]})})})}}]),n}(a.Component));i.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(Q,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.ab71673a.chunk.js.map